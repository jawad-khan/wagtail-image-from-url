{% extends "wagtailadmin/base.html" %}
{% load static wagtailadmin_tags %}
{% load i18n wagtailadmin_tags %}
{% block titletag %}
    {% trans "Add image from URL" %}
{% endblock %}
{% block bodyclass %}menu-images{% endblock %}
{% block content %}
    {% block header %}
        {% breadcrumbs items=breadcrumbs_items %}
        {% include "wagtailadmin/shared/header.html" with title=_("Add image from URL") icon="image" %}
    {% endblock %}
    <div class="nice-padding">
        <form action="" method="post" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            <div class="drop-zone w-mt-8"
                 style="display: flex;
                        flex-direction: column;
                        align-items: center">
                <p style="text-align: center;">
                    {% trans "Paste an image URL below to add it directly. Maximum filesize: 10.0 MB." %}
                </p>
                <ul class="fields" style="width: 100%; max-width: 600px; margin: 0 auto;">
                    {% include "wagtailadmin/shared/field.html" with field=form.image_url %}
                </ul>
                <div class="actions"
                     style="display: flex;
                            justify-content: center;
                            gap: 1rem">
                    <button type="submit" class="button button-longrunning button-primary">
                        <span class="button-label">{% trans "Add image" %}</span>
                        <span class="button-spinner"></span>
                    </button>
                    <a href="{% url 'wagtailimages:index' %}"
                       class="button button-secondary">{% trans "Cancel" %}</a>
                </div>
            </div>
        </form>
    </div>
        <p>{{ form_media.css }}</p>
        <div class="w-mt-8 w-p-4 w-bg-grey-50">
        <h2 class="w-mb-2">{% trans "Or add from URLs" %}</h2>
        <p>{% trans "Paste one image URL per line." %}</p>
        <textarea id="url-input-area" class="w-w-full" rows="5"></textarea>
        <button
            id="fetch-urls-button"
            class="button w-mt-2"
            data-url="{% url 'add_from_url' %}"
        >
            {% trans "Fetch images" %}
        </button>
    </div>

    <script type="module"
            src="{% static 'image_url_upload/js/main.js' %}"></script>
{% endblock %}
